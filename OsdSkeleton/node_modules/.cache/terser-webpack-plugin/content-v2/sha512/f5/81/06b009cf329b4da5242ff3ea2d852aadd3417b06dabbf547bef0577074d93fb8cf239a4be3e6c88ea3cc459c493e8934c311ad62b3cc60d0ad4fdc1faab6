{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/var/folders/93/g57v7kkx1dj40pt9f8gxl9hc0000gp/T/_karma_webpack_/\",n(n.s=216)}({216:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(42).fsm.StateMachineImpl;const o=n(41),i={};i[o.states.STOPPED.label]=[o.states.PLAYING,o.states.PAUSED,o.states.FASTFORWARDING,o.states.STOPPED,o.states.BACKWARDING],i[o.states.PLAYING.label]=[o.states.PLAYING,o.states.PAUSED,o.states.FASTFORWARDING,o.states.STOPPED,o.states.BACKWARDING],i[o.states.PAUSED.label]=[o.states.PLAYING,o.states.PAUSED,o.states.FASTFORWARDING,o.states.STOPPED,o.states.BACKWARDING],i[o.states.BACKWARDING.label]=[o.states.PLAYING,o.states.PAUSED,o.states.FASTFORWARDING,o.states.STOPPED,o.states.BACKWARDING],i[o.states.FASTFORWARDING.label]=[o.states.PLAYING,o.states.PAUSED,o.states.FASTFORWARDING,o.states.STOPPED,o.states.BACKWARDING];t.StateMachine=class extends r{constructor(e){super(Object.values(o.states),i,e)}}},41:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(42).fsm.State;t.states={STOPPED:new r(\"STOPPED\"),PLAYING:new r(\"PLAYING\"),PAUSED:new r(\"PAUSED\"),BACKWARDING:new r(\"BACKWARDING\"),FASTFORWARDING:new r(\"FASTFORWARDING\")},t.assetsType={LIVE_CHANNEL:\"liveChannel\",VIDEO:\"video\",IMAGE:\"image\",TIME_SHIFT:\"timeShift\"}},42:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(43);!function(e){var t=function(){function e(e,t,n){this.log=r.getLogger(this.constructor.name),this.states=e,this.validTransitions=t,this._state=n,this._transitionListeners={}}return Object.defineProperty(e.prototype,\"state\",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.onEnterState=function(e,t){return this.addTransitionListener(t,void 0,e)},e.prototype.onLeaveState=function(e,t){return this.addTransitionListener(t,e,void 0)},e.prototype.onTransition=function(e,t,n){return this.addTransitionListener(n,e,t)},e.prototype.onAnyTransition=function(e){return this.addTransitionListener(e,void 0,void 0)},e.prototype.addTransitionListener=function(e,t,n){var r=this.transitionLabel(t,n);this._transitionListeners[r]||(this._transitionListeners[r]=[]);var i=this._transitionListeners[r],a=new o(e,t,n);return i.push(a),{cancel:function(){a.active=!1}}},e.prototype.checkInState=function(e,t){if(!this.inState(e))throw new Error(t||\"Expected to be in \"+e+\" but was in \"+this.state)},e.prototype.checkInOneOfStates=function(e,t){if(!this.inOneOfStates(e))throw new Error(t||\"Expected to be in one of \"+e+\" but was in \"+this.state)},e.prototype.inOneOfStates=function(e){return-1!==e.indexOf(this._state)},e.prototype.inState=function(e){return this._state===e},e.prototype.invokeAllTransitionListeners=function(e,t){var n=this.transitionLabel(e,void 0);this.invokeTransitionListeners(e,t,this._transitionListeners[n]);var r=this.transitionLabel(e,t);this.invokeTransitionListeners(e,t,this._transitionListeners[r]);var o=this.transitionLabel(void 0,t);this.invokeTransitionListeners(e,t,this._transitionListeners[o]);var i=this.transitionLabel(void 0,void 0);this.invokeTransitionListeners(e,t,this._transitionListeners[i])},e.prototype.invokeTransitionListeners=function(e,t,n){if(n)for(var r=0;r<n.length;r++){var o=n[r];if(o.active)try{o.callBack(e,t)}catch(e){this.log.warn(\"Uncaught error in listener :\"+e)}else n.splice(r,1),r--}},e.prototype.transitionLabel=function(e,t){return(e&&e.label||\"*\")+\" --\\x3e \"+(t&&t.label||\"*\")},e.prototype.waitUntilLeft=function(e){var t=this;return new Promise(function(n){if(t._state!==e)n(t._state);else var r=t.onLeaveState(e,function(e,t){r.cancel(),n(t)})})},e.prototype.waitUntilEntered=function(e){return this.waitUntilEnteredOneOf([e])},e.prototype.waitUntilEnteredOneOf=function(e){var t=this;return new Promise(function(n){if(-1!==e.indexOf(t._state))n(t._state);else for(var r=[],o=!1,i=function(e){var i=t.onEnterState(e,function(e,t){i.cancel(),r.forEach(function(e){i!==e&&e.cancel()}),o=!0,n(t)});if(o)return\"break\";r.push(i)},a=0,s=e;a<s.length;a++){if(\"break\"===i(s[a]))break}})},e.prototype.setState=function(e){this.checkTransition(e),this.log.debug(\"State : \"+this._state+\" --\\x3e \"+e);var t=this._state;this._state=e,this.invokeAllTransitionListeners(t,e)},e.prototype.checkTransition=function(e){if(!this.canGoToState(e))throw new Error(\"Invalid transition from \"+this._state+\" to \"+e)},e.prototype.canGoToState=function(e){return-1!==this.validTransitions[this._state.label].indexOf(e)},e}();e.StateMachineImpl=t;var n=function(){function e(e,t){var n=this;this.label=e,this.parent=t,this.toString=function(){return n.parent?n.parent.toString()+\"/\"+n.label:n.label}}return e.prototype.userFriendlyDescription=function(){return this.label},e}();e.State=n;var o=function(){return function(e,t,n){this.callBack=e,this.fromState=t,this.toState=n,this.active=!0}}(),i=r.getLogger(\"fsm.decorators\");e.CheckStateIs=function(e,t){return function(n,r,o){var i=o.value;return o.value=function(){if(this.state!==e)throw new Error(t||\"Illegal execution of \"+r+\" : State should be \"+e+\" but state = \"+this.state);i.apply(this,arguments)},o}},e.CheckStateIn=function(e,t){return function(n,r,o){var i;if(o.value)i=o.value,o.value=function(){if(-1!==e.indexOf(this.state))return i.apply(this,arguments);throw new Error(t||\"Illegal execution of \"+r+\" : State should be one of  \"+e+\" but state = \"+this.state)};else if(o.get){var a=o.get;o.get=function(){if(-1!==e.indexOf(this.state))return a.apply(this,arguments);throw new Error(t||\"Illegal execution of \"+r+\" : State should be one of  \"+e+\" but state = \"+this.state)}}return o}},e.AssumeStateIs=function(e){return function(t,n,r){var o=r.value;return r.value=function(){this.state===e?o.apply(this,arguments):i.warn(\"Skipping execution of \"+n+\" : State should be \"+e+\" but state = \"+this.state)},r}},e.AssumeStateIsNot=function(e){return function(t,n,r){var o=r.value;return r.value=function(){this.state!==e?o.apply(this,arguments):i.warn(\"Skipping execution of \"+n+\" : State should be different from \"+e)},r}}}(t.fsm||(t.fsm={}))},43:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){function isUndefined(e){return void 0===e}function EventSupport(){}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){var n=this.slice(e+t),r=this.slice(e,e+t);this.length=e;for(var o=[],i=0,a=arguments.length;i<a;i++)o[i]=arguments[i];var s=o.length>2?n=o.slice(2).concat(n):n;for(i=0,a=s.length;i<a;i++)this.push(s[i]);return r}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError(\"log4javascript.EventSupport [\"+this+\"]: setEventTypes: eventTypes parameter must be an Array\")},addEventListener:function(e,t){\"function\"==typeof t?(array_contains(this.eventTypes,e)||handleError(\"log4javascript.EventSupport [\"+this+\"]: addEventListener: no event called '\"+e+\"'\"),this.eventListeners[e].push(t)):handleError(\"log4javascript.EventSupport [\"+this+\"]: addEventListener: listener must be a function\")},removeEventListener:function(e,t){\"function\"==typeof t?(array_contains(this.eventTypes,e)||handleError(\"log4javascript.EventSupport [\"+this+\"]: removeEventListener: no event called '\"+e+\"'\"),array_remove(this.eventListeners[e],t)):handleError(\"log4javascript.EventSupport [\"+this+\"]: removeEventListener: listener must be a function\")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,o=n.length;r<o;r++)n[r](this,e,t);else handleError(\"log4javascript.EventSupport [\"+this+\"]: dispatchEvent: no event called '\"+e+\"'\")}};var applicationStartDate=new Date,uniqueId=\"log4javascript_\"+applicationStartDate.getTime()+\"_\"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine=\"\\r\\n\",pageLoaded=!1;function Log4JavaScript(){}Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message?e.message:e.description?e.description:toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf(\"/\"),e.lastIndexOf(\"\\\\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t=\"Exception: \"+getExceptionMessage(e);try{e.lineNumber&&(t+=\" on line number \"+e.lineNumber),e.fileName&&(t+=\" in file \"+getUrlFileName(e.fileName))}catch(e){logLog.warn(\"Unable to obtain file and line information for error\")}return showStackTraces&&e.stack&&(t+=newLine+\"Stack trace:\"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")}function splitIntoLines(e){return e.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\")}log4javascript.version=\"1.4.13\",log4javascript.edition=\"log4javascript\";var urlEncode=void 0!==window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\\+/g,\"%2B\").replace(/\"/g,\"%22\").replace(/'/g,\"%27\").replace(/\\//g,\"%2F\").replace(/=/g,\"%3D\")};function array_remove(e,t){for(var n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}return n>=0&&(e.splice(n,1),!0)}function array_contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(e,t){if(isUndefined(e))return t;try{var n=parseInt(e,10);return isNaN(n)?t:n}catch(n){return logLog.warn(\"Invalid int param \"+e,n),t}}function extractFunctionFromParam(e,t){return\"function\"==typeof e?e:t}function isError(e){return e instanceof Error}Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName=\"__apply__\";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]=\"args[\"+i+\"]\";var script=\"obj.\"+methodName+\"(\"+argsStrings.join(\",\")+\")\",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var n=\"log4javascript error: \"+e;t&&(n+=newLine+newLine+\"Original error: \"+getExceptionStringRep(t)),alert(n)}}};function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent(\"error\",{message:e,exception:t})}log4javascript.logLog=logLog,log4javascript.setEventTypes([\"load\",\"error\"]),log4javascript.handleError=handleError;var enabled=!(\"undefined\"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)};var Level=function(e,t){this.level=e,this.name=t};function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,\"ALL\"),Level.TRACE=new Level(1e4,\"TRACE\"),Level.DEBUG=new Level(2e4,\"DEBUG\"),Level.INFO=new Level(3e4,\"INFO\"),Level.WARN=new Level(4e4,\"WARN\"),Level.ERROR=new Level(5e4,\"ERROR\"),Level.FATAL=new Level(6e4,\"FATAL\"),Level.OFF=new Level(Number.MAX_VALUE,\"OFF\"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName=\"[anonymous]\",defaultLoggerName=\"[default]\",nullLoggerName=\"[null]\",rootLoggerName=\"root\";function Logger(e){this.name=e,this.parent=null,this.children=[];var t=[],n=null,r=this.name===rootLoggerName,o=this.name===nullLoggerName,i=null,a=!1;this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()};var s=!0;this.getAdditivity=function(){return s},this.setAdditivity=function(e){var t=s!=e;s=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){o?handleError(\"Logger.addAppender: you may not add an appender to the null logger\"):e instanceof log4javascript.Appender?array_contains(t,e)||(t.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError(\"Logger.addAppender: appender supplied ('\"+toStr(e)+\"') is not a subclass of Appender\")},this.removeAppender=function(e){array_remove(t,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=t.length;if(e>0){for(var n=0;n<e;n++)t[n].setRemovedFromLogger(this);t.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===i||a){var e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();i=e.concat(t),a=!1}return i},this.invalidateAppenderCache=function(){a=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){var n,r=t.length-1,o=t[r];t.length>1&&isError(o)&&(n=o,r--);for(var i=[],a=0;a<=r;a++)i[a]=t[a];var s=new LoggingEvent(this,new Date,e,i,n);this.callAppenders(s)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;n<r;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError(\"Logger.setLevel: you cannot set the level of the root logger to null\"):e instanceof Level?n=e:handleError(\"Logger.setLevel: level supplied to logger \"+this.name+\" is not an instance of log4javascript.Level\")},this.getLevel=function(){return n},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,o=n.length;r<o;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()};var l={};this.time=function(e,t){enabled&&(isUndefined(e)?handleError(\"Logger.time: a name for the timer must be supplied\"):!t||t instanceof Level?l[e]=new Timer(e,t):handleError(\"Logger.time: level supplied to timer \"+e+\" is not an instance of log4javascript.Level\"))},this.timeEnd=function(e){if(enabled)if(isUndefined(e))handleError(\"Logger.timeEnd: a name for the timer must be supplied\");else if(l[e]){var t=l[e],n=t.getElapsedTime();this.log(t.level,[\"Timer \"+toStr(e)+\" completed in \"+n+\"ms\"]),delete l[e]}else logLog.warn(\"Logger.timeEnd: no timer found with name \"+e)},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);(t=t.length>0?t:[\"Assertion Failure\"]).push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return\"Logger[\"+this.name+\"]\"}}Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){if(\"string\"!=typeof e&&(e=anonymousLoggerName,logLog.warn(\"log4javascript.getLogger: non-string logger name \"+toStr(e)+\" supplied, returning anonymous logger\")),e==rootLoggerName&&handleError(\"log4javascript.getLogger: root logger may not be obtained by name\"),!loggers[e]){var t=new Logger(e);loggers[e]=t,loggerNames.push(e);var n,r=e.lastIndexOf(\".\");if(r>-1){var o=e.substring(0,r);n=log4javascript.getLogger(o)}else n=rootLogger;n.addChild(t)}return loggers[e]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(e,t,n,r,o){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=o};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):\"\"},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return\"LoggingEvent[\"+this.level+\"]\"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:\"logger\",timeStampKey:\"timestamp\",millisecondsKey:\"milliseconds\",levelKey:\"level\",messageKey:\"message\",exceptionKey:\"exception\",urlKey:\"url\"},loggerKey:\"logger\",timeStampKey:\"timestamp\",millisecondsKey:\"milliseconds\",levelKey:\"level\",messageKey:\"message\",exceptionKey:\"exception\",urlKey:\"url\",batchHeader:\"\",batchFooter:\"\",batchSeparator:\"\",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError(\"Layout.format: layout supplied has no format() method\")},ignoresThrowable:function(){handleError(\"Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method\")},getContentType:function(){return\"text/plain\"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,o=this.customFields.length;r<o;r++){var i=this.customFields[r].value;\"function\"==typeof i&&(i=i(this,e)),n.push([this.customFields[r].name,i])}return n},setKeys:function(e,t,n,r,o,i,a){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(o,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(i,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(a,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,o=this.customFields.length;r<o;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError(\"Layout.toString: all layouts must override this method\")}},log4javascript.Layout=Layout;var Appender=function(){},SimpleDateFormat;function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\\r\\n|\\r|\\n/g,\"\\\\r\\\\n\")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?\"[\"+newLine:\"[\",this.batchFooter=this.readable?\"]\"+newLine:\"]\",this.batchSeparator=this.readable?\",\"+newLine:\",\",this.setKeys(),this.colon=this.readable?\": \":\":\",this.tab=this.readable?\"\\t\":\"\",this.lineBreak=this.readable?newLine:\"\",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var r=[];return function e(t,n,o){var i,a,s,l,c,p,d;function u(e){for(var t=splitIntoLines(e),n=1,r=t.length;n<r;n++)t[n]=o+t[n];return t.join(newLine)}if(o||(o=\"\"),null===t)return\"null\";if(void 0===t)return\"undefined\";if(\"string\"==typeof t)return u(t);if(\"object\"==typeof t&&array_contains(r,t)){try{p=toStr(t)}catch(e){p=\"Error formatting property. Details: \"+getExceptionStringRep(e)}return p+\" [already expanded]\"}if(t instanceof Array&&n>0){for(r.push(t),p=\"[\"+newLine,s=n-1,l=o+\"  \",c=[],i=0,a=t.length;i<a;i++)try{d=e(t[i],s,l),c.push(l+d)}catch(e){c.push(l+\"Error formatting array member. Details: \"+getExceptionStringRep(e))}return p+=c.join(\",\"+newLine)+newLine+o+\"]\"}if(\"[object Date]\"==Object.prototype.toString.call(t))return t.toString();if(\"object\"==typeof t&&n>0){for(i in r.push(t),p=\"{\"+newLine,s=n-1,l=o+\"  \",c=[],t)try{d=e(t[i],s,l),c.push(l+i+\": \"+d)}catch(e){c.push(l+i+\": Error formatting property. Details: \"+getExceptionStringRep(e))}return p+=c.join(\",\"+newLine)+newLine+o+\"}\"}return u(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError(\"Appender.setLayout: layout supplied to \"+this.toString()+\" is not a subclass of Layout\")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError(\"Appender.setThreshold: threshold supplied to \"+this.toString()+\" is not a subclass of Level\")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError(\"Appender.toString: all appenders must override this method\")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+\" - \"+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return\"SimpleLayout\"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,n=e.exception;return n?t.concat([n]):t},NullLayout.prototype.toString=function(){return\"NullLayout\"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return\"text/xml\"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\\]\\]>/,\"]]>]]&gt;<![CDATA[\")},XmlLayout.prototype.format=function(e){var t,n,r=this;function o(e){return e=\"string\"==typeof e?e:toStr(e),\"<log4javascript:message><![CDATA[\"+r.escapeCdata(e)+\"]]></log4javascript:message>\"}var i='<log4javascript:event logger=\"'+e.logger.name+'\" timestamp=\"'+this.getTimeStampValue(e)+'\"';if(this.isTimeStampsInMilliseconds()||(i+=' milliseconds=\"'+e.milliseconds+'\"'),i+=' level=\"'+e.level.name+'\">'+newLine,this.combineMessages)i+=o(e.getCombinedMessages());else{for(i+=\"<log4javascript:messages>\"+newLine,t=0,n=e.messages.length;t<n;t++)i+=o(e.messages[t])+newLine;i+=\"</log4javascript:messages>\"+newLine}if(this.hasCustomFields())for(t=0,n=this.customFields.length;t<n;t++)i+='<log4javascript:customfield name=\"'+this.customFields[t].name+'\"><![CDATA['+this.customFields[t].value.toString()+\"]]></log4javascript:customfield>\"+newLine;return e.exception&&(i+=\"<log4javascript:exception><![CDATA[\"+getExceptionStringRep(e.exception)+\"]]></log4javascript:exception>\"+newLine),i+=\"</log4javascript:event>\"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return\"XmlLayout\"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){var t,n,r=this,o=this.getDataValues(e,this.combineMessages),i=\"{\"+this.lineBreak;function a(e,t,n){var o,i=typeof e;if(e instanceof Date)o=String(e.getTime());else if(n&&e instanceof Array){o=\"[\"+r.lineBreak;for(var s=0,l=e.length;s<l;s++){var c=t+r.tab;o+=c+a(e[s],c,!1),s<e.length-1&&(o+=\",\"),o+=r.lineBreak}o+=t+\"]\"}else o=\"number\"!==i&&\"boolean\"!==i?'\"'+escapeNewLines(toStr(e).replace(/\\\"/g,'\\\\\"'))+'\"':e;return o}for(t=0,n=o.length-1;t<=n;t++)i+=this.tab+'\"'+o[t][0]+'\"'+this.colon+a(o[t][1],this.tab,!0),t<n&&(i+=\",\"),i+=this.lineBreak;return i+=\"}\"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return\"JsonLayout\"},JsonLayout.prototype.getContentType=function(){return\"application/json\"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,o=t.length;r<o;r++){var i=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+\"=\"+urlEncode(i))}return n.join(\"&\")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return\"HttpPostDataLayout\"},log4javascript.HttpPostDataLayout=HttpPostDataLayout,function(){var e=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,t=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],n=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],r={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5},o=function(e,t,n){var r=new Date(e,t,n,0,0,0);return r.setMilliseconds(0),r};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),t=new Date(e.getTime()-864e5*this.getDay());return o(t.getFullYear(),t.getMonth(),t.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=o(this.getFullYear(),0,1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()<e&&r--,r},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=o(this.getFullYear(),this.getMonth(),1),r=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()>=e&&r++,r},Date.prototype.getDayInYear=function(){var e=o(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/864e5)},(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek};var i=function(e,t){for(;e.length<t;)e=\"0\"+e;return e},a=function(e,t,n){return t>=4?e:e.substr(0,Math.max(n,t))},s=function(e,t){return i(\"\"+e,t)};SimpleDateFormat.prototype.format=function(o){for(var l,c=\"\",p=this.formatString;l=e.exec(p);){var d=l[1],u=l[2],h=l[3],g=l[4];if(d)c+=\"''\"==d?\"'\":d.substring(1,d.length-1);else if(h);else if(g)c+=g;else if(u){var m=u.charAt(0),f=u.length,v=\"\";switch(m){case\"G\":v=\"AD\";break;case\"y\":v=o.getFullYear();break;case\"M\":v=o.getMonth();break;case\"w\":v=o.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case\"W\":v=o.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case\"D\":v=o.getDayInYear();break;case\"d\":v=o.getDate();break;case\"F\":v=1+Math.floor((o.getDate()-1)/7);break;case\"E\":v=n[o.getDay()];break;case\"a\":v=o.getHours()>=12?\"PM\":\"AM\";break;case\"H\":v=o.getHours();break;case\"k\":v=o.getHours()||24;break;case\"K\":v=o.getHours()%12;break;case\"h\":v=o.getHours()%12||12;break;case\"m\":v=o.getMinutes();break;case\"s\":v=o.getSeconds();break;case\"S\":v=o.getMilliseconds();break;case\"Z\":v=o.getTimezoneOffset()}switch(r[m]){case 0:c+=a(v,f,2);break;case 1:c+=a(v,f,3);break;case 2:c+=s(v,f);break;case 3:if(f<=3)c+=(\"\"+v).substr(2,2);else c+=s(v,f);break;case 4:c+=f>=3?a(t[v],f,f):s(v+1,f);break;case 5:var y=v>0?\"-\":\"+\",E=Math.abs(v),L=\"\"+Math.floor(E/60),C=\"\"+E%60;c+=y+(L=i(L,2))+(C=i(C,2))}}p=p.substr(l.index+l[0].length)}return c}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN=\"%r %p %c - %m%n\",PatternLayout.DEFAULT_CONVERSION_PATTERN=\"%m%n\",PatternLayout.ISO8601_DATEFORMAT=\"yyyy-MM-dd HH:mm:ss,SSS\",PatternLayout.DATETIME_DATEFORMAT=\"dd MMM yyyy HH:mm:ss,SSS\",PatternLayout.ABSOLUTETIME_DATEFORMAT=\"HH:mm:ss,SSS\",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\\.?[0-9]+)?([acdfmMnpr%])(\\{([^\\}]+)\\})?|([^%]+)/,r=\"\",o=this.pattern;t=n.exec(o);){var i=t[0],a=t[1],s=t[2],l=t[3],c=t[5],p=t[6];if(p)r+=\"\"+p;else{var d,u=\"\";switch(l){case\"a\":case\"m\":var h=0;c&&(h=parseInt(c,10),isNaN(h)&&(handleError(\"PatternLayout.format: invalid specifier '\"+c+\"' for conversion character '\"+l+\"' - should be a number\"),h=0));for(var g=\"a\"===l?e.messages[0]:e.messages,m=0,f=g.length;m<f;m++)m>0&&\" \"!==u.charAt(u.length-1)&&(u+=\" \"),u+=0===h?g[m]:formatObjectExpansion(g[m],h);break;case\"c\":var v=e.logger.name;if(c){var y=parseInt(c,10),E=e.logger.name.split(\".\");u=y>=E.length?v:E.slice(E.length-y).join(\".\")}else u=v;break;case\"d\":var L=PatternLayout.ISO8601_DATEFORMAT;c&&(\"ISO8601\"==(L=c)?L=PatternLayout.ISO8601_DATEFORMAT:\"ABSOLUTE\"==L?L=PatternLayout.ABSOLUTETIME_DATEFORMAT:\"DATE\"==L&&(L=PatternLayout.DATETIME_DATEFORMAT)),u=new SimpleDateFormat(L).format(e.timeStamp);break;case\"f\":if(this.hasCustomFields()){var C=0;c&&(C=parseInt(c,10),isNaN(C)?handleError(\"PatternLayout.format: invalid specifier '\"+c+\"' for conversion character 'f' - should be a number\"):0===C?handleError(\"PatternLayout.format: invalid specifier '\"+c+\"' for conversion character 'f' - must be greater than zero\"):C>this.customFields.length?handleError(\"PatternLayout.format: invalid specifier '\"+c+\"' for conversion character 'f' - there aren't that many custom fields\"):C-=1);var w=this.customFields[C].value;\"function\"==typeof w&&(w=w(this,e)),u=w}break;case\"n\":u=newLine;break;case\"p\":u=e.level.name;break;case\"r\":u=\"\"+e.timeStamp.getDifference(applicationStartDate);break;case\"%\":u=\"%\";break;default:u=i}if(s){d=parseInt(s.substr(1),10);var b=u.length;d<b&&(u=u.substring(b-d,b))}if(a)if(\"-\"==a.charAt(0))for(d=parseInt(a.substr(1),10);u.length<d;)u+=\" \";else for(d=parseInt(a,10);u.length<d;)u=\" \"+u;r+=u}o=o.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return\"PatternLayout\"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return\"AlertAppender\"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(e){var t,n=this,r=function(t){var r=n.getLayout().formatWithException(e);return\"string\"==typeof r?t?r:[r]:t?r.join(\" \"):r},o=window.console;o&&o.log?\"function\"==typeof o[t=o.debug&&Level.DEBUG.isGreaterOrEqual(e.level)?\"debug\":o.info&&Level.INFO.equals(e.level)?\"info\":o.warn&&Level.WARN.equals(e.level)?\"warn\":o.error&&e.level.isGreaterOrEqual(Level.ERROR)?\"error\":\"log\"].apply?o[t].apply(o,r(!1)):o[t](r(!0)):\"undefined\"!=typeof opera&&opera.postError&&opera.postError(r(!0))},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return\"BrowserConsoleAppender\"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject(\"Msxml2.XMLHTTP\")},function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n=null,r=0,o=xmlHttpFactories.length;r<o;r++){t=xmlHttpFactories[r];try{return n=t(),withCredentialsSupported=t==xhrFactory&&\"withCredentials\"in n,getXmlHttp=t,n}catch(e){}}e?e():handleError(\"getXmlHttp: unable to obtain XMLHttpRequest object\")},ConsoleAppender;function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||e.status>=200&&e.status<300||1223==e.status}function AjaxAppender(e,t){var n=this,r=!0;e||(handleError(\"AjaxAppender: URL must be specified in constructor\"),r=!1);var o=this.defaults.timed,i=this.defaults.waitForResponse,a=this.defaults.batchSize,s=this.defaults.timerInterval,l=this.defaults.requestSuccessCallback,c=this.defaults.failCallback,p=this.defaults.postVarName,d=this.defaults.sendAllOnUnload,u=this.defaults.contentType,h=null,g=[],m=[],f=[],v=!1,y=!1;function E(e){return!y||(handleError(\"AjaxAppender: configuration option '\"+e+\"' may not be set after the appender has been initialized\"),!1)}function L(){var e;if(r&&enabled)if(v=!0,i)m.length>0?T(w(e=m.shift()),L):(v=!1,o&&b());else{for(;e=m.shift();)T(w(e));v=!1,o&&b()}}function C(){var e=!1;if(r&&enabled){for(var t,s=n.getLayout().allowBatching()?a:1,l=[];t=g.shift();)l.push(t),g.length>=s&&(m.push(l),l=[]);l.length>0&&m.push(l),e=m.length>0,i=!1,o=!1,L()}return e}function w(e){for(var t,r=[],o=\"\";t=e.shift();)r.push(n.getLayout().formatWithException(t));return o=1==e.length?r.join(\"\"):n.getLayout().batchHeader+r.join(n.getLayout().batchSeparator)+n.getLayout().batchFooter,u==n.defaults.contentType&&((o=n.getLayout().returnsPostData?o:urlEncode(p)+\"=\"+urlEncode(o)).length>0&&(o+=\"&\"),o+=\"layout=\"+urlEncode(n.getLayout().toString())),o}function b(){window.setTimeout(L,s)}function x(){var e=\"AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled\";handleError(e),r=!1,c&&c(e)}function T(n,o){try{var i=getXmlHttp(x);if(r){i.onreadystatechange=function(){if(4==i.readyState){if(isHttpRequestSuccessful(i))l&&l(i),o&&o(i);else{var t=\"AjaxAppender.append: XMLHttpRequest request to URL \"+e+\" returned status code \"+i.status;handleError(t),c&&c(t)}i.onreadystatechange=emptyFunction,i=null}},i.open(\"POST\",e,!0),t&&withCredentialsSupported&&(i.withCredentials=!0);try{for(var a,s=0;a=f[s++];)i.setRequestHeader(a.name,a.value);i.setRequestHeader(\"Content-Type\",u)}catch(e){var p=\"AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled\";return handleError(p),r=!1,void(c&&c(p))}i.send(n)}}catch(t){var d=\"AjaxAppender.append: error sending log message to \"+e;handleError(d,t),r=!1,c&&c(d+\". Details: \"+getExceptionStringRep(t))}}this.getSessionId=function(){return h},this.setSessionId=function(e){h=extractStringFromParam(e,null),this.layout.setCustomField(\"sessionid\",h)},this.setLayout=function(e){E(\"layout\")&&(this.layout=e,null!==h&&this.setSessionId(h))},this.isTimed=function(){return o},this.setTimed=function(e){E(\"timed\")&&(o=bool(e))},this.getTimerInterval=function(){return s},this.setTimerInterval=function(e){E(\"timerInterval\")&&(s=extractIntFromParam(e,s))},this.isWaitForResponse=function(){return i},this.setWaitForResponse=function(e){E(\"waitForResponse\")&&(i=bool(e))},this.getBatchSize=function(){return a},this.setBatchSize=function(e){E(\"batchSize\")&&(a=extractIntFromParam(e,a))},this.isSendAllOnUnload=function(){return d},this.setSendAllOnUnload=function(e){E(\"sendAllOnUnload\")&&(d=extractBooleanFromParam(e,d))},this.setRequestSuccessCallback=function(e){l=extractFunctionFromParam(e,l)},this.setFailCallback=function(e){c=extractFunctionFromParam(e,c)},this.getPostVarName=function(){return p},this.setPostVarName=function(e){E(\"postVarName\")&&(p=extractStringFromParam(e,p))},this.getHeaders=function(){return f},this.addHeader=function(e,t){\"content-type\"==e.toLowerCase()?u=t:f.push({name:e,value:t})},this.sendAll=L,this.sendAllRemaining=C,this.append=function(e){if(r){y||function(){if(y=!0,d){var e=window.onbeforeunload;window.onbeforeunload=function(){e&&e(),C()}}o&&b()}(),g.push(e);var t=this.getLayout().allowBatching()?a:1;if(g.length>=t){for(var n,s=[];n=g.shift();)s.push(n);m.push(s),o||i&&(!i||v)||L()}}}}function setCookie(e,t,n,r){var o;if(r=r?\"; path=\"+r:\"\",n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o=\"; expires=\"+i.toGMTString()}else o=\"\";document.cookie=escape(e)+\"=\"+escape(t)+o+r}function getCookie(e){for(var t=escape(e)+\"=\",n=document.cookie.split(\";\"),r=0,o=n.length;r<o;r++){for(var i=n[r];\" \"===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return unescape(i.substring(t.length,i.length))}return null}function getBaseUrl(){for(var e=document.getElementsByTagName(\"script\"),t=0,n=e.length;t<n;++t)if(-1!=e[t].src.indexOf(\"log4javascript\")){var r=e[t].src.lastIndexOf(\"/\");return-1==r?\"\":e[t].src.substr(0,r+1)}return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),o=0;o<r;o++)n[o]=\" \";e+=n.join(\"\")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;return e.addAppender(t),e}if(AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:\"data\",contentType:\"application/x-www-form-urlencoded\"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return\"AjaxAppender\"},log4javascript.AjaxAppender=AjaxAppender,function(){var e=[],t=1;function n(e,t,n,r,o){this.create(!1,null,e,t,n,r,o,this.defaults.focusPopUp)}function r(e,t,n,r,o,i){this.create(!0,e,t,n,r,o,i,!1)}(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(n,r,o,i,a,s,l,c){var p=this,d=!1,u=!1,h=!1,g=!1,m=[],f=!0,v=t++;i=extractBooleanFromParam(i,this.defaults.initiallyMinimized),o=extractBooleanFromParam(o,this.defaults.lazyInit),a=extractBooleanFromParam(a,this.defaults.useDocumentWrite);var y=this.defaults.newestMessageAtTop,E=this.defaults.scrollToLatestMessage;s=s||this.defaults.width,l=l||this.defaults.height;var L,C,w,b,x,T=this.defaults.maxMessages,S=this.defaults.showCommandLine,A=this.defaults.commandLineObjectExpansionDepth,I=this.defaults.showHideButton,M=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var D=n?\"InPageAppender\":\"PopUpAppender\",N=function(e){return!u||(handleError(D+\": configuration option '\"+e+\"' may not be set after the appender has been initialized\"),!1)},R=function(){return h&&f&&!g};this.isNewestMessageAtTop=function(){return y},this.setNewestMessageAtTop=function(e){y=bool(e),R()&&b().setNewestAtTop(y)},this.isScrollToLatestMessage=function(){return E},this.setScrollToLatestMessage=function(e){E=bool(e),R()&&b().setScrollToLatest(E)},this.getWidth=function(){return s},this.setWidth=function(e){N(\"width\")&&(s=extractStringFromParam(e,s))},this.getHeight=function(){return l},this.setHeight=function(e){N(\"height\")&&(l=extractStringFromParam(e,l))},this.getMaxMessages=function(){return T},this.setMaxMessages=function(e){T=extractIntFromParam(e,T),R()&&b().setMaxMessages(T)},this.isShowCommandLine=function(){return S},this.setShowCommandLine=function(e){S=bool(e),R()&&b().setShowCommandLine(S)},this.isShowHideButton=function(){return I},this.setShowHideButton=function(e){I=bool(e),R()&&b().setShowHideButton(I)},this.isShowCloseButton=function(){return M},this.setShowCloseButton=function(e){M=bool(e),R()&&b().setShowCloseButton(M)},this.getCommandLineObjectExpansionDepth=function(){return A},this.setCommandLineObjectExpansionDepth=function(e){A=extractIntFromParam(e,A)};var k=i;function F(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function _(e,t){this.name=e,this.initiallyExpanded=t}function O(){}this.isInitiallyMinimized=function(){return i},this.setInitiallyMinimized=function(e){N(\"initiallyMinimized\")&&(i=bool(e),k=i)},this.isUseDocumentWrite=function(){return a},this.setUseDocumentWrite=function(e){N(\"useDocumentWrite\")&&(a=bool(e))},F.prototype.append=function(){b().log(this.levelName,this.formattedMessage)},_.prototype.append=function(){b().group(this.name,this.initiallyExpanded)},O.prototype.append=function(){b().groupEnd()};var P=function(){w(),d?g&&ee&&C():L(),w()&&j()};this.append=function(e){if(f){var t=p.getLayout().formatWithException(e);m.push(new F(e,t)),P()}},this.group=function(e,t){f&&(m.push(new _(e,t)),P())},this.groupEnd=function(){f&&(m.push(new O),P())};var j=function(){for(;m.length>0;)m.shift().append();c&&b().focus()};this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!o&&L()},this.clear=function(){R()&&b().clearLog(),m.length=0},this.focus=function(){R()&&b().focus()},this.focusCommandLine=function(){R()&&b().focusCommandLine()},this.focusSearch=function(){R()&&b().focusSearch()};var B=window;this.getCommandWindow=function(){return B},this.setCommandWindow=function(e){B=e},this.executeLastCommand=function(){R()&&b().evalLastCommand()};var H=new PatternLayout(\"%m\");this.getCommandLayout=function(){return H},this.setCommandLayout=function(e){H=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n=\"\";try{var r,o;!B.eval&&B.execScript&&B.execScript(\"null\");var i={};for(o=0,len=U.length;o<len;o++)i[U[o][0]]=U[o][1];var a=[],s=function(e){a.push([e,B[e]])};s(\"appender\"),B.appender=p,s(\"commandReturnValue\"),B.commandReturnValue=t,s(\"commandLineFunctionsHash\"),B.commandLineFunctionsHash=i;var l=function(e){s(e),B[e]=function(){return this.commandLineFunctionsHash[e](p,arguments,t)}};for(o=0,len=U.length;o<len;o++)l(U[o][0]);for(B===window&&B.execScript?(s(\"evalExpr\"),s(\"result\"),window.evalExpr=e,B.execScript(\"window.result=eval(window.evalExpr);\"),r=window.result):r=B.eval(e),n=isUndefined(r)?r:formatObjectExpansion(r,A),o=0,len=a.length;o<len;o++)B[a[o][0]]=a[o][1]}catch(e){n=\"Error evaluating command: \"+getExceptionStringRep(e),t.isError=!0}if(t.appendResult){var c=\">>> \"+e;isUndefined(n)||(c+=newLine+n);var d=t.isError?Level.ERROR:Level.INFO,u=new LoggingEvent(null,new Date,d,[c],null),h=this.getLayout();this.setLayout(H),this.append(u),this.setLayout(h)}};var U=e.concat([]);this.addCommandLineFunction=function(e,t){U.push([e,t])};this.storeCommandHistory=function(e){setCookie(\"log4javascriptCommandHistory\",e.join(\",\"))};var W=function(e){var t=['<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">','<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\">',\"<head>\",\"<title>log4javascript</title>\",'<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />',\"\\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\\x3e\",'<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />','<script type=\"text/javascript\">var isIe = false, isIePre7 = false;<\\/script>','\\x3c!--[if IE]><script type=\"text/javascript\">isIe = true<\\/script><![endif]--\\x3e','\\x3c!--[if lt IE 7]><script type=\"text/javascript\">isIePre7 = true<\\/script><![endif]--\\x3e','<script type=\"text/javascript\">',\"//<![CDATA[\",\"var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}\",\"function LogItem(){}\",\"LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}\",\"this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}\",\"this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}\",\"if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}\",\"if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}\",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"separator\";this.mainDiv.innerHTML=\"&nbsp;\";}',\"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}\",\"Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}\",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement(\"div\"));this.contentDiv.id=this.isWrapped?\"log_wrapped\":\"log_unwrapped\";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"group\";this.headingDiv=this.mainDiv.appendChild(document.createElement(\"div\"));this.headingDiv.className=\"groupheading\";this.expander=this.headingDiv.appendChild(document.createElement(\"span\"));this.expander.className=\"expander unselectable greyedout\";this.expander.unselectable=true;var expanderText=this.group.expanded?\"-\":\"+\";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(\" \"+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement(\"div\"));var contentCssClass=this.group.expanded?\"expanded\":\"collapsed\";this.contentDiv.className=\"groupcontent \"+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass=\"expanded\";oldCssClass=\"collapsed\";expanderText=\"-\";}else{newCssClass=\"collapsed\";oldCssClass=\"expanded\";expanderText=\"+\";}',\"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}\",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,\"greyedout\");}else{addClass(this.expander,\"greyedout\");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML=\"\";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',\"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}\",\"this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}\",\"this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}\",\"this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}\",\"this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}\",\"if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}\",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML=\"\";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?\"searchnonmatch\":\"searchmatch\";var newCssClass=isMatch?\"searchmatch\":\"searchnonmatch\";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,\"searchmatch\");removeClass(this.mainDiv,\"searchnonmatch\");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className=\"logentry wrapped \"+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML=\"\";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"logentry unwrapped \"+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement(\"pre\"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className=\"unwrapped\";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"logentry nonielogentry \"+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement(\"span\"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',\"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}\",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\\\r\\\\n/g,\"\\\\r\");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\\\r\\\\n/g,\"\\\\r\");}',\"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}\",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,\"searchterm\",\"span\");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,\"searchterm\",\"span\");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,\"searchterm\",\"span\");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',\"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}\",\"LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}\",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split(\"&\"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split(\"=\");if(nameValueBits[0]==\"log4javascript_domain\"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$(\"log\");if(isIePre7){addClass(logMainContainer,\"oldIe\");}','rootGroup=new Group(\"root\",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$(\"command\").value=\"\";$(\"command\").autocomplete=\"off\";$(\"command\").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value=\"\";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$(\"command\").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$(\"command\").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',\"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}\",\"break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}\",\"break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}\",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($(\"enableLogging\").checked);}',\"function setLoggingEnabled(enable){loggingEnabled=enable;}\",\"var appender=null;function setAppender(appenderParam){appender=appenderParam;}\",'function setShowCloseButton(showCloseButton){$(\"closeButton\").style.display=showCloseButton?\"inline\":\"none\";}','function setShowHideButton(showHideButton){$(\"hideButton\").style.display=showHideButton?\"inline\":\"none\";}',\"var newestAtTop=false;function LogItemContentReverser(){}\",\"LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}\",\"matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}\",\"currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}\",'$(\"newestAtTop\").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$(\"newestAtTop\").checked;setNewestAtTop(isNewestAtTop);}',\"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}\",'$(\"scrollToLatest\").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$(\"scrollToLatest\").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!=\"undefined\"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',\"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}\",\"var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}\",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$(\"commandLine\").style.display=showCommandLine?\"block\":\"none\";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$(\"command\").focus();}}','function focusSearch(){if(loaded){$(\"searchBox\").focus();}}',\"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}\",\"return items;}\",\"function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}\",\"loggingEnabled=loggingReallyEnabled;}\",\"function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}\",\"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}\",\"function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}\",\"if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}\",\"displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}\",\"if(scrollToLatest){doScrollToLatest();}\",\"unrenderedLogItemsExist=false;}\",\"function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}\",\"var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}\",\"logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}\",\"return false;}\",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded===\"undefined\")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',\"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}\",\"function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}\",\"function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}\",\"function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}\",\"function hide(){if(appender&&mainWindowExists()){appender.hide();}}\",'var mainWindow=window;var windowId=\"log4javascriptConsoleWindow_\"+new Date().getTime()+\"_\"+(\"\"+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',\"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}\",\"function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}\",\"return false;}\",'var logLevels=[\"TRACE\",\"DEBUG\",\"INFO\",\"WARN\",\"ERROR\",\"FATAL\"];function getCheckBox(logLevel){return $(\"switch_\"+logLevel);}','function getIeWrappedLogContainer(){return $(\"log_wrapped\");}','function getIeUnwrappedLogContainer(){return $(\"log_unwrapped\");}',\"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}\",\"updateSearchFromFilters();}\",'function toggleAllLevels(){var turnOn=$(\"switch_ALL\").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox(\"ALL\").checked=false;return;}}','getCheckBox(\"ALL\").checked=true;}',\"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}\",'function toggleWrap(){var enable=$(\"wrap\").checked;if(enable){addClass(logMainContainer,\"wrap\");}else{removeClass(logMainContainer,\"wrap\");}',\"refreshCurrentMatch();}\",\"var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}\",\"searchTimer=setTimeout(doSearch,500);}\",\"function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}\",\"Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}\",\"return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}\",\"return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}\",\"for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}\",\"return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}\",\"for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}\",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag=\"<span class=\\\\\"searchterm\\\\\">\";var searchTermReplacementEndTag=\"<\"+\"/span>\";var preTagName=isIe?\"pre\":\"span\";var preStartTag=\"<\"+preTagName+\" class=\\\\\"pre\\\\\">\";var preEndTag=\"<\"+\"/\"+preTagName+\">\";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?\"g\":\"gi\";var capturingRegex=new RegExp(\"(\"+this.searchRegex.source+\")\",flags);var rnd=(\"\"+Math.random()).substr(2);var startToken=\"%%s\"+rnd+\"%%\";var endToken=\"%%e\"+rnd+\"%%\";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+\"$1\"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent=\"\";wrappedLogEntryContent=\"\";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',\"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+\",\"matchedText+searchTermReplacementEndTag;}\",\"startIndex=endTokenIndex+endToken.length;}\",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent=\"\";wrappedLogEntryContent=\"\";var searchTermReplacementLength=searchTermReplacementStartTag.length+',\"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+\",\"preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+\",\"matchedText+searchTermReplacementEndTag;}\",\"startIndex=searchIndex+searchTermLength;}\",\"var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}\",\"logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}\",\"return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}\",\"var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}\",\"for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}\",\"if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}\",\"setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}\",\"return y;}\",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$(\"wrap\").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',\"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}\",\"function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}\",\"this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}\",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,\"currentmatch\");addClass(this.spanInWrappedDiv,\"currentmatch\");var elementToScroll=$(\"wrap\").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,\"currentmatch\");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,\"currentmatch\");removeClass(this.spanInWrappedDiv,\"currentmatch\");}else{removeClass(this.spanInMainDiv,\"currentmatch\");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$(\"searchBox\");var searchTerm=searchBox.value;var isRegex=$(\"searchRegex\").checked;var isCaseSensitive=$(\"searchCaseSensitive\").checked;var i;if(searchTerm===\"\"){$(\"searchReset\").disabled=true;$(\"searchNav\").style.display=\"none\";removeClass(document.body,\"searching\");removeClass(searchBox,\"hasmatches\");removeClass(searchBox,\"nomatches\");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$(\"searchReset\").disabled=false;$(\"searchNav\").style.display=\"block\";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,\"g\"):new RegExp(searchTerm,\"gi\");regexValid=true;replaceClass(searchBox,\"validregex\",\"invalidregex\");searchBox.title=\"Valid regex\";}catch(ex){regexValid=false;replaceClass(searchBox,\"invalidregex\",\"validregex\");searchBox.title=\"Invalid regex: \"+(ex.message?ex.message:(ex.description?ex.description:\"unknown error\"));return;}}else{searchBox.title=\"\";removeClass(searchBox,\"validregex\");removeClass(searchBox,\"invalidregex\");}','addClass(document.body,\"searching\");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',\"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}\",\"function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}\",\"var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}\",\"function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}\",'function displayMatches(){replaceClass($(\"searchBox\"),\"hasmatches\",\"nomatches\");$(\"searchBox\").title=\"\"+currentSearch.matches.length+\" matches found\";$(\"searchNav\").style.display=\"block\";setLogContainerHeight();}','function displayNoMatches(){replaceClass($(\"searchBox\"),\"nomatches\",\"hasmatches\");$(\"searchBox\").title=\"No matches found\";$(\"searchNav\").style.display=\"none\";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable==\"undefined\")?!$(\"searchDisable\").checked:enable;$(\"searchBox\").disabled=!enable;$(\"searchReset\").disabled=!enable;$(\"searchRegex\").disabled=!enable;$(\"searchNext\").disabled=!enable;$(\"searchPrevious\").disabled=!enable;$(\"searchCaseSensitive\").disabled=!enable;$(\"searchNav\").style.display=(enable&&($(\"searchBox\").value!==\"\")&&currentSearch&&currentSearch.hasVisibleMatches())?\"block\":\"none\";if(enable){removeClass($(\"search\"),\"greyedout\");addClass(document.body,\"searching\");if($(\"searchHighlight\").checked){addClass(logMainContainer,\"searchhighlight\");}else{removeClass(logMainContainer,\"searchhighlight\");}','if($(\"searchFilter\").checked){addClass(logMainContainer,\"searchfilter\");}else{removeClass(logMainContainer,\"searchfilter\");}','$(\"searchDisable\").checked=!enable;}else{addClass($(\"search\"),\"greyedout\");removeClass(document.body,\"searching\");removeClass(logMainContainer,\"searchhighlight\");removeClass(logMainContainer,\"searchfilter\");}',\"setLogContainerHeight();}\",'function toggleSearchFilter(){var enable=$(\"searchFilter\").checked;if(enable){addClass(logMainContainer,\"searchfilter\");}else{removeClass(logMainContainer,\"searchfilter\");}',\"refreshCurrentMatch();}\",'function toggleSearchHighlight(){var enable=$(\"searchHighlight\").checked;if(enable){addClass(logMainContainer,\"searchhighlight\");}else{removeClass(logMainContainer,\"searchhighlight\");}}','function clearSearch(){$(\"searchBox\").value=\"\";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm(\"Reached the end of the page. Start from the top?\")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm(\"Reached the start of the page. Continue from the bottom?\")){setCurrentMatchIndex(previousMatchIndex);}}}',\"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}\",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=\" \"+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(\" \");return array_contains(classNames,cssClass);}',\"return false;}\",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(\" \");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(\" \");}}',\"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}\",\"function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}\",\"return matches;}\",\"function $(id){return document.getElementById(id);}\",\"function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}\",\"node=node.parentNode;}\",\"return false;}\",\"function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}\",\"currentNode=currentNode.parentNode;}\",\"return true;}\",'function escapeHtml(str){return str.replace(/&/g,\"&amp;\").replace(/[<]/g,\"&lt;\").replace(/>/g,\"&gt;\");}',\"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}\",\"return 0;}\",\"function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}\",\"return 0;}\",'function getToolBarsHeight(){return $(\"switches\").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$(\"commandLine\").offsetHeight;}',\"return height;}\",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$(\"body\").style.height=getWindowHeight()+\"px\";logMainContainer.style.height=\"\"+','Math.max(0,windowHeight-getChromeHeight())+\"px\";}}','function setCommandInputWidth(){if(showCommandLine){$(\"command\").style.width=\"\"+Math.max(0,$(\"commandLineContainer\").offsetWidth-','($(\"evaluateButton\").offsetWidth+13))+\"px\";}}',\"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}\",\"return this.length;};}\",\"if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}\",\"if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}\",\"this.length=this.length-1;return firstItem;}};}\",\"if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}\",\"var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}\",\"return itemsDeleted;};}\",\"function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}\",\"if(index>=0){arr.splice(index,1);return index;}else{return false;}}\",\"function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}\",\"array.length=array.length-numberToRemove;}\",\"return array;}\",\"function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}\",\"return false;}\",\"function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}\",'return\"\"+ex;}',\"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}\",\"input.focus();}\",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!=\"undefined\"){evt.cancelBubble=true;}}',\"function getEvent(evt){return evt?evt:event;}\",\"function getTarget(evt){return evt.target?evt.target:evt.srcElement;}\",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case\"mouseover\":return evt.fromElement;case\"mouseout\":return evt.toElement;default:return evt.srcElement;}}}',\"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}\",'function evalCommandLine(){var expr=$(\"command\").value;evalCommand(expr);$(\"command\").value=\"\";}',\"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}\",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=\">>> \"+expr+\"\\\\r\\\\n\";try{log(\"INFO\",prefix+eval(expr));}catch(ex){log(\"ERROR\",prefix+\"Error: \"+getErrorMessage(ex));}}',\"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}\",\"currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}\",\"//]]>\",\"<\\/script>\",'<style type=\"text/css\">',\"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}\",\"</style>\",\"</head>\",'<body id=\"body\">','<div id=\"switchesContainer\">','<div id=\"switches\">','<div id=\"levels\" class=\"toolbar\">',\"Filters:\",'<input type=\"checkbox\" id=\"switch_TRACE\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide trace messages\" /><label for=\"switch_TRACE\" id=\"label_TRACE\">trace</label>','<input type=\"checkbox\" id=\"switch_DEBUG\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide debug messages\" /><label for=\"switch_DEBUG\" id=\"label_DEBUG\">debug</label>','<input type=\"checkbox\" id=\"switch_INFO\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide info messages\" /><label for=\"switch_INFO\" id=\"label_INFO\">info</label>','<input type=\"checkbox\" id=\"switch_WARN\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide warn messages\" /><label for=\"switch_WARN\" id=\"label_WARN\">warn</label>','<input type=\"checkbox\" id=\"switch_ERROR\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide error messages\" /><label for=\"switch_ERROR\" id=\"label_ERROR\">error</label>','<input type=\"checkbox\" id=\"switch_FATAL\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide fatal messages\" /><label for=\"switch_FATAL\" id=\"label_FATAL\">fatal</label>','<input type=\"checkbox\" id=\"switch_ALL\" onclick=\"toggleAllLevels(); applyFilters()\" checked=\"checked\" title=\"Show/hide all messages\" /><label for=\"switch_ALL\" id=\"label_ALL\">all</label>',\"</div>\",'<div id=\"search\" class=\"toolbar\">','<label for=\"searchBox\" class=\"searchboxlabel\">Search:</label> <input type=\"text\" id=\"searchBox\" onclick=\"toggleSearchEnabled(true)\" onkeyup=\"scheduleSearch()\" size=\"20\" />','<input type=\"button\" id=\"searchReset\" disabled=\"disabled\" value=\"Reset\" onclick=\"clearSearch()\" class=\"button\" title=\"Reset the search\" />','<input type=\"checkbox\" id=\"searchRegex\" onclick=\"doSearch()\" title=\"If checked, search is treated as a regular expression\" /><label for=\"searchRegex\">Regex</label>','<input type=\"checkbox\" id=\"searchCaseSensitive\" onclick=\"doSearch()\" title=\"If checked, search is case sensitive\" /><label for=\"searchCaseSensitive\">Match case</label>','<input type=\"checkbox\" id=\"searchDisable\" onclick=\"toggleSearchEnabled()\" title=\"Enable/disable search\" /><label for=\"searchDisable\" class=\"alwaysenabled\">Disable</label>','<div id=\"searchNav\">','<input type=\"button\" id=\"searchNext\" disabled=\"disabled\" value=\"Next\" onclick=\"searchNext()\" class=\"button\" title=\"Go to the next matching log entry\" />','<input type=\"button\" id=\"searchPrevious\" disabled=\"disabled\" value=\"Previous\" onclick=\"searchPrevious()\" class=\"button\" title=\"Go to the previous matching log entry\" />','<input type=\"checkbox\" id=\"searchFilter\" onclick=\"toggleSearchFilter()\" title=\"If checked, non-matching log entries are filtered out\" /><label for=\"searchFilter\">Filter</label>','<input type=\"checkbox\" id=\"searchHighlight\" onclick=\"toggleSearchHighlight()\" title=\"Highlight matched search terms\" /><label for=\"searchHighlight\" class=\"alwaysenabled\">Highlight all</label>',\"</div>\",\"</div>\",'<div id=\"options\" class=\"toolbar\">',\"Options:\",'<input type=\"checkbox\" id=\"enableLogging\" onclick=\"toggleLoggingEnabled()\" checked=\"checked\" title=\"Enable/disable logging\" /><label for=\"enableLogging\" id=\"enableLoggingLabel\">Log</label>','<input type=\"checkbox\" id=\"wrap\" onclick=\"toggleWrap()\" title=\"Enable / disable word wrap\" /><label for=\"wrap\" id=\"wrapLabel\">Wrap</label>','<input type=\"checkbox\" id=\"newestAtTop\" onclick=\"toggleNewestAtTop()\" title=\"If checked, causes newest messages to appear at the top\" /><label for=\"newestAtTop\" id=\"newestAtTopLabel\">Newest at the top</label>','<input type=\"checkbox\" id=\"scrollToLatest\" onclick=\"toggleScrollToLatest()\" checked=\"checked\" title=\"If checked, window automatically scrolls to a new message when it is added\" /><label for=\"scrollToLatest\" id=\"scrollToLatestLabel\">Scroll to latest</label>','<input type=\"button\" id=\"clearButton\" value=\"Clear\" onclick=\"clearLog()\" class=\"button\" title=\"Clear all log messages\"  />','<input type=\"button\" id=\"hideButton\" value=\"Hide\" onclick=\"hide()\" class=\"hidden button\" title=\"Hide the console\" />','<input type=\"button\" id=\"closeButton\" value=\"Close\" onclick=\"closeWindow()\" class=\"hidden button\" title=\"Close the window\" />',\"</div>\",\"</div>\",\"</div>\",'<div id=\"log\" class=\"TRACE DEBUG INFO WARN ERROR FATAL\"></div>','<div id=\"commandLine\" class=\"toolbar\">','<div id=\"commandLineContainer\">','<input type=\"text\" id=\"command\" title=\"Enter a JavaScript command here and hit return or press \\'Evaluate\\'\" />','<input type=\"button\" id=\"evaluateButton\" value=\"Evaluate\" class=\"button\" title=\"Evaluate the command\" onclick=\"evalCommandLine()\" />',\"</div>\",\"</div>\",\"</body>\",\"</html>\",\"\"];e.open();for(var n=0,r=t.length;n<r;n++)e.writeln(t[n]);e.close()};this.setEventTypes([\"load\",\"unload\"]);var G=function(){var e=b();e.setAppender(p),e.setNewestAtTop(y),e.setScrollToLatest(E),e.setMaxMessages(T),e.setShowCommandLine(S),e.setShowHideButton(I),e.setShowCloseButton(M),e.setMainWindow(window);var t=getCookie(\"log4javascriptCommandHistory\");t&&(e.commandHistory=t.split(\",\"),e.currentCommandIndex=e.commandHistory.length),p.dispatchEvent(\"load\",{win:e})};this.unload=function(){logLog.debug(\"unload \"+this+\", caller: \"+this.unload.caller),g||(logLog.debug(\"really doing unload \"+this),g=!0,h=!1,u=!1,p.dispatchEvent(\"unload\",{}))};var K=function(e,t,n,r){var o=setInterval(function(){try{g&&clearInterval(o),e(b())&&(clearInterval(o),n())}catch(e){clearInterval(o),f=!1,handleError(r,e)}},t)},V=function(){var e=document.domain!=location.hostname;return a?\"\":getBaseUrl()+\"console.html\"+(e?\"?log4javascript_domain=\"+escape(document.domain):\"\")};if(n){var $=null,z=[];this.addCssProperty=function(e,t){N(\"cssProperties\")&&z.push([e,t])};var q,X=!1,Y=uniqueId+\"_InPageAppender_\"+v;this.hide=function(){d&&u&&(R()&&b().$(\"command\").blur(),q.style.display=\"none\",k=!0)},this.show=function(){d&&(u?(q.style.display=\"block\",this.setShowCommandLine(S),k=!1):X||C(!0))},this.isVisible=function(){return!k&&!g},this.close=function(e){g||e&&!confirm(\"This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?\")||(q.parentNode.removeChild(q),this.unload())},x=function(){var e=\"InPageAppender.open: unable to create console iframe\";function t(){try{i||p.show(),G(),h=!0,j()}catch(t){f=!1,handleError(e,t)}}function n(){try{var n=function(e){return isLoaded(e)};a&&W(b().document),n(b())?t():K(n,100,t,e)}catch(t){f=!1,handleError(e,t)}}k=!1,(q=$.appendChild(document.createElement(\"div\"))).style.width=s,q.style.height=l,q.style.border=\"solid gray 1px\";for(var r=0,o=z.length;r<o;r++)q.style[z[r][0]]=z[r][1];var c=a?\"\":\" src='\"+V()+\"'\";q.innerHTML=\"<iframe id='\"+Y+\"' name='\"+Y+\"' width='100%' height='100%' frameborder='0'\"+c+\" scrolling='no'></iframe>\",g=!1;var d=function(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}};d(b())?n():K(d,100,n,e),u=!0},C=function(e){if(e||!i){var t=function(){if(r)try{var e=document.getElementById(r);1==e.nodeType&&($=e),x()}catch(e){handleError(\"InPageAppender.init: invalid container element '\"+r+\"' supplied\",e)}else($=document.createElement(\"div\")).style.position=\"fixed\",$.style.left=\"0\",$.style.right=\"0\",$.style.bottom=\"0\",document.body.appendChild($),p.addCssProperty(\"borderWidth\",\"1px 0 0 0\"),p.addCssProperty(\"zIndex\",1e6),x()};pageLoaded&&r&&r.appendChild?($=r,x()):pageLoaded?t():log4javascript.addEventListener(\"load\",t),X=!0}},L=function(){C(),d=!0},b=function(){var e=window.frames[Y];if(e)return e},w=function(){return!(!f||g)&&(u&&!h&&b()&&isLoaded(b())&&(h=!0),h)}}else{var J,Q=p.defaults.useOldPopUp,Z=p.defaults.complainAboutPopUpBlocking,ee=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return Q},this.setUseOldPopUp=function(e){N(\"useOldPopUp\")&&(Q=bool(e))},this.isComplainAboutPopUpBlocking=function(){return Z},this.setComplainAboutPopUpBlocking=function(e){N(\"complainAboutPopUpBlocking\")&&(Z=bool(e))},this.isFocusPopUp=function(){return c},this.setFocusPopUp=function(e){c=bool(e)},this.isReopenWhenClosed=function(){return ee},this.setReopenWhenClosed=function(e){ee=bool(e)},this.close=function(){logLog.debug(\"close \"+this);try{J.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug(\"hide \"+this),R()&&this.close()},this.show=function(){logLog.debug(\"show \"+this),u||x()},this.isVisible=function(){return w()},x=function(){var e=\"width=\"+s+\",height=\"+l+\",status,resizable\",t=\"\";try{var n=window.frameElement;n&&(t=\"_\"+n.tagName+\"_\"+(n.name||n.id||\"\"))}catch(e){t=\"_inaccessibleParentFrame\"}var r=\"PopUp_\"+location.host.replace(/[^a-z0-9]/gi,\"_\")+\"_\"+v+t;Q&&a||(r=r+\"_\"+uniqueId);var o=function(e){if(g)return!0;try{return bool(e)&&e.closed}catch(e){}return!1},i=function(){g||p.unload()};function c(){b().setCloseIfOpenerCloses(!Q||!a),G(),h=!0,j(),K(o,500,i,\"PopUpAppender.checkPopUpClosed: error checking pop-up window\")}try{if(J=window.open(V(),r,e),g=!1,u=!0,J&&J.document)if(a&&Q&&isLoaded(J))J.mainPageReloaded(),c();else{a&&W(J.document);isLoaded(J)?c():K(function(e){return bool(e)&&isLoaded(e)},100,c,\"PopUpAppender.init: unable to create console window\")}else f=!1,logLog.warn(\"PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender\"),Z&&handleError(\"log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.\")}catch(e){handleError(\"PopUpAppender.init: error creating pop-up\",e)}},C=function(){i||x()},L=function(){C(),d=!0},b=function(){return J},w=function(){if(f&&!isUndefined(J)&&!g){if(J.closed||h&&isUndefined(J.closed))return p.unload(),logLog.debug(\"PopUpAppender: pop-up closed\"),!1;!h&&isLoaded(J)&&(h=!0)}return f&&h&&!g}}this.getConsoleWindow=b},ConsoleAppender.addGlobalCommandLineFunction=function(t,n){e.push([t,n])},n.prototype=new ConsoleAppender,n.prototype.defaults={layout:new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:\"600\",height:\"400\",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},n.prototype.toString=function(){return\"PopUpAppender\"},log4javascript.PopUpAppender=n,r.prototype=new ConsoleAppender,r.prototype.defaults={layout:new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:\"100%\",height:\"220px\",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},r.prototype.toString=function(){return\"InPageAppender\"},log4javascript.InPageAppender=r,log4javascript.InlineAppender=r}(),function(){function e(e){var t=0;for(var n in e)t=Math.max(toStr(n).length,t);var r=[];for(n in e){var o,i=\"  \"+padWithSpaces(toStr(n),t+2);try{o=splitIntoLines(toStr(e[n])).join(padWithSpaces(newLine,t+6))}catch(e){o=\"[Error obtaining property. Details: \"+getExceptionMessage(e)+\"]\"}r.push(i+o)}return r.join(newLine)}var t={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n=[\"script\",\"pre\"],r=[\"br\",\"img\",\"hr\",\"param\",\"link\",\"area\",\"input\",\"col\",\"base\",\"meta\"],o=\"  \";function i(e,a,s,l,c){var p;function d(e){for(var t=e.style.cssText.split(\";\"),n=\"\",r=0,o=t.length;r<o;r++){var i=t[r].split(\":\"),a=[];/^\\s*$/.test(i[0])||a.push(trim(i[0]).toLowerCase()+\":\"+trim(i[1])),n=a.join(\";\")}return n}\"string\"!=typeof s&&(s=\"\"),l=!!l,c=!!c;var u,h,g,m;if(!(a=void 0===a||!!a)||e.nodeType==t.DOCUMENT_FRAGMENT_NODE){for(p=\"\",u=0,h=e.childNodes.length;u<h;u++)p+=i(e.childNodes[u],!0,s+o);return p}switch(e.nodeType){case t.ELEMENT_NODE:var f=e.tagName.toLowerCase();p=l?newLine+s:\"\",p+=\"<\";var v=(m=e).prefix?m.prefix:m.outerHTML&&new RegExp(\"<([^:]+):\"+m.tagName+\"[^>]*>\",\"i\").test(m.outerHTML)?RegExp.$1.toLowerCase():\"\",y=!!v;for(y&&(p+=v+\":\"),p+=f,u=0,h=e.attributes.length;u<h;u++){var E=e.attributes[u];E.specified&&null!==E.nodeValue&&\"style\"!==E.nodeName.toLowerCase()&&\"string\"==typeof E.nodeValue&&0!==E.nodeName.indexOf(\"_moz\")&&(p+=\" \"+E.nodeName.toLowerCase()+'=\"',p+=E.nodeValue.toString().replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\"),p+='\"')}if(e.style.cssText)\"\"!==d(e)&&(p+=' style=\"'+d(e)+'\"');if(array_contains(r,f)||y&&!e.hasChildNodes())p+=\"/>\";else{p+=\">\";var L=!(1===e.childNodes.length&&e.childNodes[0].nodeType===t.TEXT_NODE),C=array_contains(n,f);for(u=0,h=e.childNodes.length;u<h;u++)p+=i(e.childNodes[u],!0,s+o,L,C);var w=\"</\"+f+\">\";p+=L?newLine+s+w:w}return p;case t.TEXT_NODE:if((g=e).nodeType==t.TEXT_NODE&&/^[ \\t\\r\\n]*$/.test(g.nodeValue))p=\"\";else{if(c)p=e.nodeValue;else{var b=splitIntoLines(trim(e.nodeValue)),x=[];for(u=0,h=b.length;u<h;u++)x[u]=trim(b[u]);p=x.join(newLine+s)}l&&(p=newLine+s+p)}return p;case t.CDATA_SECTION_NODE:return\"<![CDATA[\"+e.nodeValue+\"]]>\"+newLine;case t.DOCUMENT_NODE:for(p=\"\",u=0,h=e.childNodes.length;u<h;u++)p+=i(e.childNodes[u],!0,s);return p;default:return\"\"}}ConsoleAppender.addGlobalCommandLineFunction(\"$\",function(e,t,n){return document.getElementById(t[0])}),ConsoleAppender.addGlobalCommandLineFunction(\"dir\",function(t,n,r){for(var o=[],i=0,a=n.length;i<a;i++)o[i]=e(n[i]);return o.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction(\"dirxml\",function(e,t,n){for(var r=[],o=0,a=t.length;o<a;o++)r[o]=i(t[o]);return r.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction(\"cd\",function(e,t,n){var r,o;return 0===t.length||\"\"===t[0]?(r=window,o=\"Command line set to run in main window\"):t[0].window==t[0]?(r=t[0],o=\"Command line set to run in frame '\"+t[0].name+\"'\"):(r=window.frames[t[0]])?o=\"Command line set to run in frame '\"+t[0]+\"'\":(n.isError=!0,o=\"Frame '\"+t[0]+\"' does not exist\",r=e.getCommandWindow()),e.setCommandWindow(r),o}),ConsoleAppender.addGlobalCommandLineFunction(\"clear\",function(e,t,n){n.appendResult=!1,e.clear()}),ConsoleAppender.addGlobalCommandLineFunction(\"keys\",function(e,t,n){var r=[];for(var o in t[0])r.push(o);return r}),ConsoleAppender.addGlobalCommandLineFunction(\"values\",function(e,t,n){var r=[];for(var o in t[0])try{r.push(t[0][o])}catch(e){logLog.warn(\"values(): Unable to obtain value for key \"+o+\". Details: \"+getExceptionMessage(e))}return r}),ConsoleAppender.addGlobalCommandLineFunction(\"expansionDepth\",function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||r<0?(n.isError=!0,t[0]+\" is not a valid expansion depth\"):(e.setCommandLineObjectExpansionDepth(r),\"Object expansion depth set to \"+r)})}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent(\"load\",{})},window.addEventListener)window.addEventListener(\"load\",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent(\"onload\",log4javascript.setDocumentReady);else{var oldOnload=window.onload;\"function\"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}}return log4javascript},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=\"function\"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}});","extractedComments":[]}